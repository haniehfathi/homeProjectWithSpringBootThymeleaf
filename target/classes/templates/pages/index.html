<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Home</title>
<div th:replace="pages/fragments/layout::head"></div>
<link rel="stylesheet" th:href="@{/css/style_searchForm.css}" />
<link rel="stylesheet" th:href="@{/css/searchBoxStyle.css}" />
<link rel="stylesheet" th:href="@{/css/contact_style.css}" />


<style>
@media ( max-width : 767px) {
	.carousel-caption {
		display: none;
	}
}

.carousel-indicators li {
	background-color: rgb(255, 255, 255);
}

.carousel-caption {
	color: #000;
	font-size: 20px;
	font-weight: bold
}

.carousel-control {
	color: #1b1e21;
}

.carousel-caption h3 {
	color: #000;
	font-size: 30px;
	font-weight: bold
}

.carousel-inner img {
	-webkit-filter: grayscale(90%);
	filter: grayscale(980%); /* make all photos black and white */
	width: 100%; /* Set width to 100% */
	margin: auto;
}
/* FontAwesome for working BootSnippet :> */
@import
	url('https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css')
	;

#team {
	background: #eee !important;
}

.btn-primary:hover, .btn-primary:focus {
	background-color: #108d6f;
	border-color: #108d6f;
	box-shadow: none;
	outline: none;
}

.btn-primary {
	color: #fff;
	background-color: #007b5e;
	border-color: #007b5e;
}

section {
	padding: 60px 0;
}

section .section-title {
	text-align: center;
	color: #007b5e;
	margin-bottom: 50px;
	text-transform: uppercase;
}

#team .card {
	border: none;
	background: #ffffff;
}

.image-flip:hover .backside, .image-flip.hover .backside {
	-webkit-transform: rotateY(0deg);
	-moz-transform: rotateY(0deg);
	-o-transform: rotateY(0deg);
	-ms-transform: rotateY(0deg);
	transform: rotateY(0deg);
	border-radius: .25rem;
}

.image-flip:hover .frontside, .image-flip.hover .frontside {
	-webkit-transform: rotateY(180deg);
	-moz-transform: rotateY(180deg);
	-o-transform: rotateY(180deg);
	transform: rotateY(180deg);
}

.mainflip {
	-webkit-transition: 1s;
	-webkit-transform-style: preserve-3d;
	-ms-transition: 1s;
	-moz-transition: 1s;
	-moz-transform: perspective(1000px);
	-moz-transform-style: preserve-3d;
	-ms-transform-style: preserve-3d;
	transition: 1s;
	transform-style: preserve-3d;
	position: relative;
}

.frontside {
	position: relative;
	-webkit-transform: rotateY(0deg);
	-ms-transform: rotateY(0deg);
	z-index: 2;
	margin-bottom: 30px;
}

.backside {
	position: absolute;
	top: 0;
	left: 0;
	background: white;
	-webkit-transform: rotateY(-180deg);
	-moz-transform: rotateY(-180deg);
	-o-transform: rotateY(-180deg);
	-ms-transform: rotateY(-180deg);
	transform: rotateY(-180deg);
	-webkit-box-shadow: 5px 7px 9px -4px rgb(158, 158, 158);
	-moz-box-shadow: 5px 7px 9px -4px rgb(158, 158, 158);
	box-shadow: 5px 7px 9px -4px rgb(158, 158, 158);
}

.frontside, .backside {
	-webkit-backface-visibility: hidden;
	-moz-backface-visibility: hidden;
	-ms-backface-visibility: hidden;
	backface-visibility: hidden;
	-webkit-transition: 1s;
	-webkit-transform-style: preserve-3d;
	-moz-transition: 1s;
	-moz-transform-style: preserve-3d;
	-o-transition: 1s;
	-o-transform-style: preserve-3d;
	-ms-transition: 1s;
	-ms-transform-style: preserve-3d;
	transition: 1s;
	transform-style: preserve-3d;
}

.frontside .card, .backside .card {
	min-height: 312px;
}

.backside .card a {
	font-size: 18px;
	color: #007b5e !important;
}

.frontside .card .card-title, .backside .card .card-title {
	color: #007b5e !important;
}

.frontside .card .card-body img {
	width: 300px;
	height: 230px;
	border-radius: 50%;
}

.card-body img {
	-webkit-filter: grayscale(70%);
	filter: grayscale(70%);
}

#searchBox {
	position: absolute;
	top: -10%;
	left: 15%;
}
</style>
</head>
<body>
	<div th:replace="pages/fragments/layout::header"></div>



	<div id="myCarousel" class="carousel slide" data-bs-ride="carousel"
>		<!-- Indicators -->
		<ol class="carousel-indicators">
			<li data-target="#myCarousel" data-slide-to="0" class="active"></li>
			<li data-target="#myCarousel" data-slide-to="1"></li>
			<li data-target="#myCarousel" data-slide-to="2"></li>
		</ol>

		<!-- Wrapper for slides -->
		<div class="carousel-inner" role="listbox">
			<div class="carousel-item active">
				<img src="/img/carousel3.jpg" alt="New York" width="1200"
					height="700">
				<div class="carousel-caption">
					<h3>New York</h3>
					<p>The atmosphere in New York is lorem ipsum.</p>
				</div>
			</div>

			<div class="carousel-item">
				<img src="/img/carousel55.jpg" alt="Chicago" width="1200"
					height="700">
				<div class="carousel-caption">
					<h3>Chicago</h3>
					<p>Thank you, Chicago - A night we won't forget.</p>
				</div>
			</div>

			<div class="carousel-item">
				<img src="/img/carousel66.jpg" alt="Los Angeles" width="1200"
					height="700">
				<div class="carousel-caption">
					<h3>LA</h3>
					<p>Even though the traffic was a mess, we had the best time
						playing at Venice Beach!</p>
				</div>
			</div>
		</div>

		<!-- Left and right controls -->

		<a class="carousel-control-prev" href="#myCarousel" role="button"
			data-slide="prev"> <span class="carousel-control-prev-icon"
			aria-hidden="true"></span> <span class="sr-only">Previous</span>
		</a> <a class="carousel-control-next" href="#myCarousel" role="button"
			data-slide="next"> <span class="carousel-control-next-icon"
			aria-hidden="true"></span> <span class="sr-only">Next</span>
		</a>
	</div>

	<div class="s01" id="searchBox" dir="rtl">
		<form method="get" th:action="@{/home/getBySearch}">

			<div class="inner-form">
				<div class="input-field first-wrap" style="margin-right: 10px">
					<input id="search" name="title" type="text"
						placeholder="خانه خود را جستجو کنید" />
				</div>
				<div class="input-field second-wraps" style="margin-right: 0px;">
					<select
						class="form-control form-control-lg browser-default custom-select"
						id="catSelect" name="category"
						style="margin-top: 0px; font-size: 17px; width: 135%; height: 100%; border-radius: 0px;">
						<option value="0" hidden>انتخاب کنید ...</option>
						<option th:each="cat : ${categories}" th:value="${cat.getId()}"
							th:text="${cat.getTitle()}">
					</select>
				</div>
				<div class="input-field third-wrap" style="margin-right: 50px">
					<button class="btn-search" type="submit">جستجو</button>
				</div>
			</div>
		</form>
	</div>


	<div th:replace="pages/fragments/layout::search"></div>


	<section id="team" class="pb-5">
		<div class="container" id="lastHomes">
			<h6 class="section-title h1" style="font-family: sans-serif;">آخرین
				خانه ها</h6>
			<div class="row">

				<div th:each="home,stat : ${homes}"
					class="col-xs-12 col-sm-6 col-md-4" th:unless="${stat.index > 5}">
					<div class="image-flip">
						<div class="mainflip flip-0">
							<div class="frontside">
								<div class="card">
									<div class="card-body text-center">
										<p>
											<!-- <img class=" img-fluid"  th:each="homePic, iter :${home.getHomePictures()}" th:src="'/img/'+ ${homePic.getImage()}" onerror="this.src='/img/notFound.jpg'" alt="not found"> -->
											<img class=" img-fluid" th:if="${home.getHomePictures().size() !=0}" th:each="homePic, iter :${home.getHomePictures()}"
												th:src="'/img/'+${homePic.getImage()}" th:id="'img'+${iter.index}+'home'+${homePic.getId()}" style="display: none;"
											>	
											<img class=" img-fluid" th:unless="${home.getHomePictures().size() !=0}" 
											src="/img/22.jpg">					
										</p>
										<h6 class="card-title" th:text="${home.getTitle()}"></h6>
										<div class="card-footer">
											<p class="text-center small text-muted m-0 p-0"
												th:text="'Last Updated : '+  ${#temporals.format(home.getUpdatedAt(),'yyyy-MM-dd HH:mm')}"></p>
										</div>
									</div>
								</div>
							</div>
							<div class="backside">
								<div class="card" style="float: right">
									<div class="card-body text-center mt-4"
										style="text-align: right;">
										<p class="card-text"
											style="text-align: right; font-size: 18px; color: #014A39; font-family: sans-serif;"
											th:text="'متراژ کل : '+ ${home.getTotalArea()}"></p>
										<p class="card-text"
											style="text-align: right; font-size: 18px; color: #014A39; font-family: sans-serif;"
											th:text="'متراژ خانه : '+ ${home.getHouseArea()}"></p>
										<p class="card-text"
											style="text-align: right; font-size: 18px; color: #014A39; font-family: sans-serif;"
											th:text="'قیمت کل : '+ ${home.getTotalPrice()}"></p>
										<p class="card-text"
											style="text-align: right; font-size: 18px; color: #014A39; font-family: sans-serif;"
											th:text="' توضیحات : '+ ${home.getDescription()}"></p>

										<a th:href="@{/home/homeDetails/{id}(id=${home.getId()})}"
											class="card-link">اطلاعات بیشتر</a>

									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

			</div>
		</div>
	</section>



	<div class="container-contact100" dir="rtl" id="ContactUs">
		<div class="wrap-contact100">
			<form class="contact100-form validate-form">
				<span class="contact100-form-title">پیامی برای ما بفرستید</span> <label
					class="label-input100" for="first-name">نام و نام خانوادگی
					خود را وارد نمایید *</label>
				<div class="wrap-input100 rs1-wrap-input100 validate-input"
					data-validate="Type first name">
					<input id="first-name" class="input100" type="text"
						name="first-name" placeholder="نام"> <span
						class="focus-input100"></span>
				</div>
				<div class="wrap-input100 rs2-wrap-input100 validate-input"
					data-validate="Type last name">
					<input class="input100" type="text" name="last-name"
						placeholder="نام خانوادگی"> <span class="focus-input100"></span>
				</div>

				<label class="label-input100" for="email">لطفا ایمیل خود را
					وارد نمایید *</label>
				<div class="wrap-input100 validate-input"
					data-validate="Valid email is required: ex@abc.xyz">
					<input id="email" class="input100" type="text" name="email"
						placeholder="مانند example@email.com"> <span
						class="focus-input100"></span>
				</div>



				<label class="label-input100" for="message">پیام *</label>
				<div class="wrap-input100 validate-input"
					data-validate="Message is required">
					<textarea id="message" class="input100" name="message"
						placeholder="پیامتان را برای ما بفرستید *"></textarea>
					<span class="focus-input100"></span>
				</div>

				<div class="container-contact100-form-btn">
					<button class="contact100-form-btn" style="font-size: 20px">ارسال
					</button>
				</div>
			</form>

			<div class="contact100-more flex-col-c-m"
				style="background-image: url('img/bg-01.jpg');">


				<div class="dis-flex size1 p-b-47">
					<div class="txt1 p-r-25">
						<span class="lnr lnr-phone-handset"></span>
					</div>

					<div class="flex-col size2">
						<span class="txt1 p-b-20" style="font-size: 15px; color: #D6D9DA;">شماره
							تماس ما : </span> <span class="txt3">09128436939</span>
					</div>
				</div>

				<div class="dis-flex size1 p-b-47">
					<div class="txt1 p-r-25">
						<span class="lnr lnr-envelope"></span>
					</div>

					<div class="flex-col size2">
						<span class="txt1 p-b-20" style="font-size: 15px; color: #D6D9DA;">ایمیل
							جهت پشتیبانی : </span> <span class="txt3">hniehfathi@gmail.com </span>
					</div>
				</div>
			</div>
		</div>
	</div>



	<!-- Image of location/map -->
	<img src="img/footer5.jpg" class="img-responsive" style="width: 100%">


	<!-- <div class="container-fluid mt-3 pl-5 pr-5" style="background-color: #E8E6E6"> -->

	<!--     <a th:each="home : ${homes}" th:href="@{/home/homeDetails/{id}(id=${home.getId()})}" class="text-dark"> -->
	<!--         <div class="card mr-3 mb-4 col-sm-3" style=" float: left;margin: 20px"> -->
	<!--                <img class="card-img-top border-bottom border-secondary" style="width: 17.5rem;height:10rem" th:src="'/img/'+ ${home.getHomePictures()}" onerror="this.src='/img/1.png'" alt="not found"> -->

	<!--             <div class="card-body" style="color:black"> -->
	<!--                 <h5 class="card-title" style="float:right" th:text="${home.getTitle()}"/> -->
	<!--                 <br> -->
	<!--                 <p class="card-text text-truncate" th:text="${home.getDescription()}" /> -->
	<!--             </div> -->
	<!--             <div class="card-footer"> -->
	<!--                 <p class="text-center small text-muted m-0 p-0" th:text="'Last Updated : '+ -->
	<!--                 ${#temporals.format(home.getUpdatedAt(),'yyyy-MM-dd HH:mm')}"></p> -->
	<!--             </div> -->
	<!--         </div> -->
	<!--     </a> -->
	<!-- </div> -->

	<script>
		$(document).ready(
				function() {
					// Initialize Tooltip
					$('[data-toggle="tooltip"]').tooltip();

					// Add smooth scrolling to all links in navbar + footer link
					$(".navbar a, footer a[href='#myPage']").on('click',
							function(event) {

								// Make sure this.hash has a value before overriding default behavior
								if (this.hash !== "") {

									// Prevent default anchor click behavior
									event.preventDefault();

									// Store hash
									var hash = this.hash;

									// Using jQuery's animate() method to add smooth page scroll
									// The optional number (900) specifies the number of milliseconds it takes to scroll to the specified area
									$('html, body').animate({
										scrollTop : $(hash).offset().top
									}, 900, function() {

										// Add hash (#) to URL when done scrolling (default click behavior)
										window.location.hash = hash;
									});
								} // End if
							});
					
					$( "*[id*='img0']" ).css("display","block")
				});

		function getCitiesByProvinceId() {
			var pid = $("#provinceSelect").find(":selected").val();
			var url = "/getCities/" + pid;
			console.log(url)
			$
					.ajax({
						type : 'GET',
						url : url,
						success : function(data) {
							var cSelect = $('#citySelect'), option = "", option0 = "";
							cSelect.empty()
							for (var i = 0; i < data.length; i++) {
								option = option
										+ "<option value='"+data[i].id+"'>"
										+ data[i].title + "</option>";
							}
							option0 = "<option value='0' hidden>انتخاب کنید ...</option>";
							cSelect.append(option0);
							cSelect.append(option);
						},
						error : function() {
							console("error");
						}

					})

		}
	</script>

	<script src="https://code.jquery.com/jquery-3.6.0.js"
		integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
		crossorigin="anonymous"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
	<script
		src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</body>
</html>