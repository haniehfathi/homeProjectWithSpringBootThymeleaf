<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Home</title>
<div th:replace="pages/fragments/layout::head"></div>
<link rel="stylesheet" th:href="@{/css/style_searchForm.css}" />
<link rel="stylesheet" th:href="@{/css/searchBoxStyle.css}" />
<link rel="stylesheet" th:href="@{/css/contact_style.css}" />
	<link href="/css/fontawesome-free-5.15.4-web/css/all.min.css" rel="stylesheet" type="text/css"/>


<style>
@media ( max-width : 767px) {
	.carousel-caption {
		display: none;
	}
}

.carousel-indicators li {
	background-color: rgb(255, 255, 255);
    width: 13px;
    height: 13px;
    border-radius: 100%;
    margin: 20px;
}

.carousel-indicators {
    bottom: -20px;
}

.carousel-caption {
	color: #000;
	font-size: 20px;
	font-weight: bold
}

.carousel-control {
	color: #1b1e21;
}

.carousel-caption h3 {
	color: #000;
	font-size: 30px;
	font-weight: bold
}

.carousel-inner img {
	-webkit-filter: grayscale(90%);
	filter: grayscale(980%); /* make all photos black and white */
	width: 100%; /* Set width to 100% */
	margin: auto;
}
/* FontAwesome for working BootSnippet :> */
@import
	url('https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css')
	;

#team {
	background: #eee !important;
}

.btn-primary:hover, .btn-primary:focus {
	background-color: #108d6f;
	border-color: #108d6f;
	box-shadow: none;
	outline: none;
}

.btn-primary {
	color: #fff;
	background-color: #007b5e;
	border-color: #007b5e;
}

section {
	padding: 60px 0;
}

section .section-title {
	text-align: center;
	color: #007b5e;
	margin-bottom: 50px;
	text-transform: uppercase;
}

#team .card {
	border: none;
	background: #ffffff;
}

.image-flip:hover .backside, .image-flip.hover .backside {
	-webkit-transform: rotateY(0deg);
	-moz-transform: rotateY(0deg);
	-o-transform: rotateY(0deg);
	-ms-transform: rotateY(0deg);
	transform: rotateY(0deg);
	border-radius: .25rem;
}

.image-flip:hover .frontside, .image-flip.hover .frontside {
	-webkit-transform: rotateY(180deg);
	-moz-transform: rotateY(180deg);
	-o-transform: rotateY(180deg);
	transform: rotateY(180deg);
}

.mainflip {
	-webkit-transition: 1s;
	-webkit-transform-style: preserve-3d;
	-ms-transition: 1s;
	-moz-transition: 1s;
	-moz-transform: perspective(1000px);
	-moz-transform-style: preserve-3d;
	-ms-transform-style: preserve-3d;
	transition: 1s;
	transform-style: preserve-3d;
	position: relative;
}

.frontside {
	position: relative;
	-webkit-transform: rotateY(0deg);
	-ms-transform: rotateY(0deg);
	z-index: 2;
	margin-bottom: 30px;
}

.backside {
	position: absolute;
	top: 0;
	left: 0;
	background: white;
	-webkit-transform: rotateY(-180deg);
	-moz-transform: rotateY(-180deg);
	-o-transform: rotateY(-180deg);
	-ms-transform: rotateY(-180deg);
	transform: rotateY(-180deg);
	-webkit-box-shadow: 5px 7px 9px -4px rgb(158, 158, 158);
	-moz-box-shadow: 5px 7px 9px -4px rgb(158, 158, 158);
	box-shadow: 5px 7px 9px -4px rgb(158, 158, 158);
}

.frontside, .backside {
	-webkit-backface-visibility: hidden;
	-moz-backface-visibility: hidden;
	-ms-backface-visibility: hidden;
	backface-visibility: hidden;
	-webkit-transition: 1s;
	-webkit-transform-style: preserve-3d;
	-moz-transition: 1s;
	-ms-transform-style: preserve-3d;
	transition: 1s;
	transform-style: preserve-3d;
	min-width: 350px;
}

.frontside .card, .backside .card {
	min-height: 312px;
}

.backside .card a {
	font-size: 18px;
	color: #007b5e !important;
}

.frontside .card .card-title, .backside .card .card-title {
	color: #007b5e !important;
}

.frontside .card .card-body img {
	width: 300px;
	height: 230px;
	border-radius: 50%;
}

.card-body img {
	-webkit-filter: grayscale(70%);
	filter: grayscale(70%);
}

#searchBox {
	position: absolute;
	top:30%;
	left: 50%;
	transform: translateX(-50%);
}

@media(max-width:1050px)
{
#searchBox{
position: relative;
	top:0%;
	background-color: #e2e3e5;
	  min-height: 30vh;
	
}
}

</style>
</head>
<body>
	<div th:replace="pages/fragments/layout::header"></div>



	<div id="myCarousel" class="carousel slide" data-bs-ride="carousel">		<!-- Indicators -->
		<ol class="carousel-indicators">
			<li data-target="#myCarousel" data-slide-to="0" class="active"></li>
			<li data-target="#myCarousel" data-slide-to="1"></li>
			<li data-target="#myCarousel" data-slide-to="2"></li>
		</ol>

		<!-- Wrapper for slides -->
		<div class="carousel-inner" role="listbox">
			<div class="carousel-item active">
				<img src="/img/carousel33.jpg"  width="1200"  style="max-height: 900px"
					>
				<div class="carousel-caption">
					<h3 style="color: white;font-family: 'Poppins-Regular'">خانه ی رویایی</h3>
					<p style="color: white; font-family: 'Poppins-Regular'">خانه ی رویایی خود را پیدا کنید.</p>
				</div>
			</div>

			<div class="carousel-item">
				<img src="/img/carousel555.jpg"  style="max-height: 900px"
					>
				<div class="carousel-caption">
					<h3 style="color: white;font-family:'Poppins-Regular'">جستجوی ملک</h3>
					<p style="color: white; font-family:'Poppins-Regular'">متناسب با بودجه ی خود ، خانه ی معیارتان را پیدا کنید </p>
				</div>
			</div>

			<div class="carousel-item">
				<img src="/img/carousel666.jpg" width="1200"  style="max-height: 900px"
					>
				<div class="carousel-caption">
					<h3 style="color: #414242;font-family:'Poppins-Regular'">ثبت ملک</h3>
					<p style="color: #414242; font-family:'Poppins-Regular'">می توانید با ثبت ملک خود ،بسیار راحت و سریع ملک خود را به فروش برسانید</p>
				</div>
			</div>
		</div>

		<!-- Left and right controls -->
		
		<a class="carousel-control-prev" href="#myCarousel"
							role="button" data-slide="prev"> <span
							class="carousel-control-prev-icon" aria-hidden="true"></span> <span
							class="sr-only"></span>
		</a>
		 <a class="carousel-control-next"
							href="#myCarousel" role="button" data-slide="next">
							<span class="carousel-control-next-icon" aria-hidden="true"></span>
							<span class="sr-only"></span>
		</a>
	</div>

	<div class="s01" id="searchBox" dir="rtl">
		<form method="get" th:action="@{/home/getBySearch}">

			<div class="inner-form">
				<div class="input-field first-wrap" style="margin-right: 0px">
					<input id="search" name="title" type="text"
						placeholder="خانه خود را جستجو کنید" />

				</div>
				<div class="input-field second-wraps" style="margin-right: 0px;">
					<select
						class="form-control form-control-lg browser-default custom-select"
						id="catSelect" name="category"
						style="margin-top: 0px; font-size: 17px; width: 135%; height: 100%; border-radius: 0px;">
						<option value="0" hidden>انتخاب کنید ...</option>
						<option th:each="cat : ${categories}" th:value="${cat.getId()}"
							th:text="${cat.getTitle()}">
					</select>
				</div>
				<div class="input-field third-wrap" style="margin-right: 0px">
					<button class="btn-search" type="submit">جستجو</button>
				</div>
			</div>
		</form>
	</div>


	<div th:replace="pages/fragments/layout::search"></div>


	<section id="team" class="pb-5">
		<div class="container" id="lastHomes">
			<h6 class="section-title h1" style="font-family: sans-serif;">آخرین
				خانه ها</h6>
			<div class="row">

				<div th:each="home,stat : ${homes}"
					class="col-xs-12 col-sm-6 col-md-4" th:unless="${stat.index > 5}">
					<div class="image-flip">
						<div class="mainflip flip-0">
							<div class="frontside">
								<div class="card">
									<div class="card-body text-center">
										<p>
											<!-- <img class=" img-fluid"  th:each="homePic, iter :${home.getHomePictures()}" th:src="'/img/'+ ${homePic.getImage()}" onerror="this.src='/img/notFound.jpg'" alt="not found"> -->
											<img class=" img-fluid" th:if="${home.getHomePictures().size() !=0}" th:each="homePic, iter :${home.getHomePictures()}"
												th:src="'/img/'+${homePic.getImage()}" th:id="'img'+${iter.index}+'home'+${homePic.getId()}" style="display: none;"
											>	
											<img class=" img-fluid" th:unless="${home.getHomePictures().size() !=0}" 
											src="/img/22.jpg">					
										</p>
										<h6 class="card-title" th:text="${home.getTitle()}"></h6>
										<div class="card-footer">
											<p class="text-center small text-muted m-0 p-0"
												th:text="'Last Updated : '+  ${#temporals.format(home.getUpdatedAt(),'yyyy-MM-dd HH:mm')}"></p>
										</div>
									</div>
								</div>
							</div>
							<div class="backside">
								<div class="card" style="float: right">
									<div class="card-body text-center mt-4"
										style="text-align: right;">
										<p class="card-text"
											style="text-align: right; font-size: 18px; color: #014A39; font-family: 'Poppins-Regular';"
											th:text="'متراژ کل : '+ ${home.getTotalArea()}"></p>
										<p class="card-text"
											style="text-align: right; font-size: 18px; color: #014A39; font-family: 'Poppins-Regular';"
											th:text="'متراژ خانه : '+ ${home.getHouseArea()}"></p>
										<p class="card-text"
											style="text-align: right; font-size: 18px; color: #014A39; font-family: 'Poppins-Regular';"
											th:text="'قیمت کل : '+ ${home.getTotalPrice()}"></p>
										<p class="card-text"
											style="text-align: right; font-size: 18px; color: #014A39; font-family: 'Poppins-Regular';"
											th:text="' توضیحات : '+ ${home.getDescription()}"></p>

										<a th:href="@{/home/homeDetails/{id}(id=${home.getId()})}"
											class="card-link">اطلاعات بیشتر</a>

									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

			</div>
		</div>
	</section>



	<div class="container-contact100" dir="rtl" id="ContactUs" >
		<div class="wrap-contact100">
			<form class="contact100-form validate-form">
				<span class="contact100-form-title">پیامی برای ما بفرستید</span> <label
					class="label-input100" for="first-name">نام و نام خانوادگی
					خود را وارد نمایید *</label>
				<div class="wrap-input100 rs1-wrap-input100 validate-input"
					data-validate="Type first name">
					<input id="first-name" class="input100" type="text"
						name="first-name" placeholder="نام"> <span
						class="focus-input100"></span>
				</div>
				<div class="wrap-input100 rs2-wrap-input100 validate-input"
					data-validate="Type last name">
					<input class="input100" type="text" name="last-name"
						placeholder="نام خانوادگی"> <span class="focus-input100"></span>
				</div>

				<label class="label-input100" for="email">لطفا ایمیل خود را
					وارد نمایید *</label>
				<div class="wrap-input100 validate-input"
					data-validate="Valid email is required: ex@abc.xyz">
					<input id="email" class="input100" type="text" name="email"
						placeholder="مانند example@email.com"> <span
						class="focus-input100"></span>
				</div>



				<label class="label-input100" for="message">پیام *</label>
				<div class="wrap-input100 validate-input"
					data-validate="Message is required">
					<textarea id="message" class="input100" name="message"
						placeholder="پیامتان را برای ما بفرستید *"></textarea>
					<span class="focus-input100"></span>
				</div>

				<div class="container-contact100-form-btn">
					<button class="contact100-form-btn" style="font-size: 20px">ارسال
					</button>
				</div>
			</form>

			<div class="contact100-more flex-col-c-m"
				style="background-image: url('img/bg-01.jpg');">


				<div class="dis-flex size1 p-b-47">
					<div class="txt1 p-r-25">
						<span class="lnr lnr-phone-handset"></span>
					</div>

					<div class="flex-col size2">
						<span class="txt1 p-b-20" style="font-size: 15px; color: #D6D9DA;">شماره
							تماس ما : </span> <span class="txt3">09128436939</span>
					</div>
				</div>

				<div class="dis-flex size1 p-b-47">
					<div class="txt1 p-r-25">
						<span class="lnr lnr-envelope"></span>
					</div>

					<div class="flex-col size2">
						<span class="txt1 p-b-20" style="font-size: 15px; color: #D6D9DA;">ایمیل
							جهت پشتیبانی : </span> <span class="txt3">hniehfathi@gmail.com </span>
					</div>
				</div>
			</div>
		</div>
	</div>



	<div style="margin-top: 60px;" th:replace="pages/fragments/layout::footer"></div>


	<!-- Image of location/map -->
<!--	<img id="imgFooter" src="img/footer5.jpg" class="img-responsive" style="width: 100%">-->


	<script>
		$(document).ready(
				function() {
					// Initialize Tooltip
					$('[data-toggle="tooltip"]').tooltip();

					// Add smooth scrolling to all links in navbar + footer link
					$(".navbar a, footer a[href='#myPage']").on('click',
							function(event) {

								// Make sure this.hash has a value before overriding default behavior
								if (this.hash !== "") {

									// Prevent default anchor click behavior
									event.preventDefault();

									// Store hash
									var hash = this.hash;

									// Using jQuery's animate() method to add smooth page scroll
									// The optional number (900) specifies the number of milliseconds it takes to scroll to the specified area
									$('html, body').animate({
										scrollTop : $(hash).offset().top
									}, 900, function() {

										// Add hash (#) to URL when done scrolling (default click behavior)
										window.location.hash = hash;
									});
								} // End if
							});
					
					$( "*[id*='img0']" ).css("display","block");

				});






		function getCitiesByProvinceId() {
			var pid = $("#provinceSelect").find(":selected").val();
			var url = "/getCities/" + pid;
			console.log(url)
			$
					.ajax({
						type : 'GET',
						url : url,
						success : function(data) {
							var cSelect = $('#citySelect'), option = "", option0 = "";
							cSelect.empty()
							for (var i = 0; i < data.length; i++) {
								option = option
										+ "<option value='"+data[i].id+"'>"
										+ data[i].title + "</option>";
							}
							option0 = "<option value='0' hidden>انتخاب کنید ...</option>";
							cSelect.append(option0);
							cSelect.append(option);
						},
						error : function() {
							console("error");
						}

					})

		}
	</script>
	<script type="text/javascript">


		window.onscroll= ()=> {
			var myNav=document.querySelector('nav');
			"use strict";
			if((document.body.scrollTop > 400 || document.documentElement.scrollTop>400)){
				// myNav.classList.add("nav-colored-trans20");
				// myNav.classList.remove("");
				const percent=Math.round(document.documentElement.scrollTop*0.02);
				myNav.classList.add("nav-colored-trans".concat(percent));
				console.log(percent);


			}

			else
			{
				myNav.classList.remove("nav-colored-trans10");
				myNav.classList.remove("nav-colored-trans20");
				myNav.classList.remove("nav-colored-trans30");
				myNav.classList.remove("nav-colored-trans40");
				myNav.classList.remove("nav-colored-trans50");
				myNav.classList.remove("nav-colored-trans60");
				myNav.classList.remove("nav-colored-trans70");
				myNav.classList.remove("nav-colored-trans80");
				// myNav.classList.add("");

			}
		}
	</script>

	<script src="/js/jquery-3.6.0.min.js"></script>
	<script src="/js/bootstrap.bundle.min.js"></script>
	<script src="/js/bootstrap.min.js"></script>
</body>
</html>